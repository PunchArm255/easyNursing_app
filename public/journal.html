<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EasyNursing - Journal</title>
    <link rel="stylesheet" href="https://cdn.tailwindcss.com">
    <style>
      @font-face {
        font-family: 'RedHatDisplay';
        src: url('./fonts/RedHatDisplay-Black.ttf') format('truetype');
        font-weight: bold;
        font-style: normal;
      }

      body {
        font-family: 'RedHatDisplay', sans-serif;
      }
    </style>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-[#f7f7f7] flex justify-start items-start h-screen">

<!-- Sidebar -->
<div class="bg-[#5e67ac] w-[80px] h-screen rounded-tr-[40px] rounded-br-[40px] flex flex-col justify-between fixed left-0 top-0 py-[30px]"
     style="box-shadow: 0 0 40px 1px #5e67ac;">
    <img src="assets/plus.svg" alt="Add Icon" class="w-[40px] mx-auto mb-auto">
    <div class="flex flex-col gap-[30px] pb-[20px]">
        <img src="assets/user.svg" alt="User Icon" class="w-[40px] mx-auto">
        <img src="assets/settings.svg" alt="Settings Icon" class="w-[40px] mx-auto">
    </div>
</div>

<!-- Main Content -->
<div class="flex-1 ml-[100px] px-10 py-8">

    <!-- Journal Title -->
    <h1 class="text-4xl font-bold text-indigo-800 mb-6">
      Journal
    </h1>

    <!-- Buttons -->
    <div class="w-full flex justify-between mb-8">
        <button id="addTaskBtn" class="bg-[#5e67ac] text-[#cbd1ff] rounded-full py-2 px-6">
          Ajouter une tache
        </button>
        <button class="bg-[#5e67ac] text-[#cbd1ff] rounded-full py-2 px-6"
                onclick="window.location.href='index.html'">
          Retour a l'accueil
        </button>
    </div>

    <!-- Task Box -->
    <div class="w-full h-[500px] bg-[#f1f3ff] rounded-lg p-4 overflow-y-auto" id="taskContainer">
      <!-- Dynamically added tasks will go here -->
    </div>
</div>

<!-- Modal (hidden by default) -->
<div id="taskModal" class="fixed inset-0 bg-black bg-opacity-30 hidden justify-center items-center">
  <div class="bg-white p-6 rounded-lg shadow-lg w-[400px]">
    <h2 class="text-xl font-bold mb-4">Ajouter une tâche</h2>
    <input type="text" id="taskName" class="w-full border border-gray-300 rounded-lg p-2 mb-4" placeholder="Nom de la tâche">
    
    <div class="mb-4">
      <label class="mr-4">Type de tâche:</label>
      <select id="taskType" class="border border-gray-300 rounded-lg p-2">
        <option value="1">Type 1 (Red)</option>
        <option value="2">Type 2 (Green)</option>
      </select>
    </div>

    <div class="flex justify-end space-x-4">
      <button id="cancelBtn" class="bg-gray-300 text-black rounded-full py-2 px-4">
        Annuler
      </button>
      <button id="saveTaskBtn" class="bg-blue-500 text-white rounded-full py-2 px-4">
        Enregistrer
      </button>
    </div>
  </div>
</div>

<script>
  // Modal functionality
  const addTaskBtn = document.getElementById('addTaskBtn');
  const taskModal = document.getElementById('taskModal');
  const cancelBtn = document.getElementById('cancelBtn');
  const saveTaskBtn = document.getElementById('saveTaskBtn');
  const taskNameInput = document.getElementById('taskName');
  const taskTypeInput = document.getElementById('taskType');
  const taskContainer = document.getElementById('taskContainer');

  addTaskBtn.addEventListener('click', () => {
    taskModal.classList.remove('hidden');
  });

  cancelBtn.addEventListener('click', () => {
    taskModal.classList.add('hidden');
  });

  saveTaskBtn.addEventListener('click', () => {
    const taskName = taskNameInput.value.trim();
    const taskType = taskTypeInput.value;

    if (taskName !== "") {
      const taskDiv = document.createElement('div');
      taskDiv.classList.add('p-2', 'mb-2', 'rounded-lg');
      taskDiv.style.backgroundColor = taskType === '1' ? '#fca5a5' : '#86efac';
      taskDiv.innerText = taskName;

      taskContainer.appendChild(taskDiv);
      taskModal.classList.add('hidden');

      // Reset inputs
      taskNameInput.value = '';
      taskTypeInput.value = '1';
    }
  });
</script>

</body>
</html>
